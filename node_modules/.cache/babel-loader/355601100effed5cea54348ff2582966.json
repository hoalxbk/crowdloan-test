{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n} // Copyright 2017-2021 @polkadot/api-derive authors & contributors\n// SPDX-License-Identifier: Apache-2.0\n\n\nimport \"./detectPackage.js\";\nimport * as accounts from \"./accounts/index.js\";\nimport * as balances from \"./balances/index.js\";\nimport * as bounties from \"./bounties/index.js\";\nimport * as chain from \"./chain/index.js\";\nimport * as contracts from \"./contracts/index.js\";\nimport * as council from \"./council/index.js\";\nimport * as democracy from \"./democracy/index.js\";\nimport * as elections from \"./elections/index.js\";\nimport * as imOnline from \"./imOnline/index.js\";\nimport * as membership from \"./membership/index.js\";\nimport * as parachains from \"./parachains/index.js\";\nimport * as session from \"./session/index.js\";\nimport * as society from \"./society/index.js\";\nimport * as staking from \"./staking/index.js\";\nimport * as technicalCommittee from \"./technicalCommittee/index.js\";\nimport * as treasury from \"./treasury/index.js\";\nimport * as tx from \"./tx/index.js\";\nexport { packageInfo } from \"./packageInfo.js\";\nexport * from \"./type/index.js\";\nexport const derive = {\n  accounts,\n  balances,\n  bounties,\n  chain,\n  contracts,\n  council,\n  democracy,\n  elections,\n  imOnline,\n  membership,\n  parachains,\n  session,\n  society,\n  staking,\n  technicalCommittee,\n  treasury,\n  tx\n}; // Enable derive only if some of these modules are available\n\nconst deriveAvail = {\n  contracts: ['contracts'],\n  council: ['council'],\n  democracy: ['democracy'],\n  elections: ['phragmenElection', 'electionsPhragmen', 'elections'],\n  imOnline: ['imOnline'],\n  membership: ['membership'],\n  parachains: ['parachains', 'registrar'],\n  session: ['session'],\n  society: ['society'],\n  staking: ['staking'],\n  technicalCommittee: ['technicalCommittee'],\n  treasury: ['treasury']\n};\n/**\n * Returns an object that will inject `api` into all the functions inside\n * `allSections`, and keep the object architecture of `allSections`.\n */\n\n/** @internal */\n\nfunction injectFunctions(instanceId, api, allSections) {\n  const queryKeys = Object.keys(api.query);\n  return Object.keys(allSections).filter(sectionName => !deriveAvail[sectionName] || deriveAvail[sectionName].some(query => queryKeys.includes(query))).reduce((deriveAcc, sectionName) => {\n    const section = allSections[sectionName];\n    deriveAcc[sectionName] = Object.keys(section).reduce((sectionAcc, _methodName) => {\n      const methodName = _methodName; // Not sure what to do here, casting as any. Though the final types are good\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment,@typescript-eslint/no-unsafe-call\n\n      const method = section[methodName](instanceId, api); // idem\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment,@typescript-eslint/no-unsafe-member-access\n\n      sectionAcc[methodName] = method;\n      return sectionAcc;\n    }, {});\n    return deriveAcc;\n  }, {});\n} // FIXME The return type of this function should be {...ExactDerive, ...DeriveCustom}\n// For now we just drop the custom derive typings\n\n/** @internal */\n\n\nexport function decorateDerive(instanceId, api, custom = {}) {\n  return _objectSpread(_objectSpread({}, injectFunctions(instanceId, api, derive)), injectFunctions(instanceId, api, custom));\n}","map":{"version":3,"sources":["/Users/lehoa/icetea/work/node_modules/@polkadot/api-derive/index.js"],"names":["_defineProperty","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","accounts","balances","bounties","chain","contracts","council","democracy","elections","imOnline","membership","parachains","session","society","staking","technicalCommittee","treasury","tx","packageInfo","derive","deriveAvail","injectFunctions","instanceId","api","allSections","queryKeys","query","sectionName","some","includes","reduce","deriveAcc","section","sectionAcc","_methodName","methodName","method","decorateDerive","custom"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// Copyright 2017-2021 @polkadot/api-derive authors & contributors\n// SPDX-License-Identifier: Apache-2.0\nimport \"./detectPackage.js\";\nimport * as accounts from \"./accounts/index.js\";\nimport * as balances from \"./balances/index.js\";\nimport * as bounties from \"./bounties/index.js\";\nimport * as chain from \"./chain/index.js\";\nimport * as contracts from \"./contracts/index.js\";\nimport * as council from \"./council/index.js\";\nimport * as democracy from \"./democracy/index.js\";\nimport * as elections from \"./elections/index.js\";\nimport * as imOnline from \"./imOnline/index.js\";\nimport * as membership from \"./membership/index.js\";\nimport * as parachains from \"./parachains/index.js\";\nimport * as session from \"./session/index.js\";\nimport * as society from \"./society/index.js\";\nimport * as staking from \"./staking/index.js\";\nimport * as technicalCommittee from \"./technicalCommittee/index.js\";\nimport * as treasury from \"./treasury/index.js\";\nimport * as tx from \"./tx/index.js\";\nexport { packageInfo } from \"./packageInfo.js\";\nexport * from \"./type/index.js\";\nexport const derive = {\n  accounts,\n  balances,\n  bounties,\n  chain,\n  contracts,\n  council,\n  democracy,\n  elections,\n  imOnline,\n  membership,\n  parachains,\n  session,\n  society,\n  staking,\n  technicalCommittee,\n  treasury,\n  tx\n};\n// Enable derive only if some of these modules are available\nconst deriveAvail = {\n  contracts: ['contracts'],\n  council: ['council'],\n  democracy: ['democracy'],\n  elections: ['phragmenElection', 'electionsPhragmen', 'elections'],\n  imOnline: ['imOnline'],\n  membership: ['membership'],\n  parachains: ['parachains', 'registrar'],\n  session: ['session'],\n  society: ['society'],\n  staking: ['staking'],\n  technicalCommittee: ['technicalCommittee'],\n  treasury: ['treasury']\n};\n/**\n * Returns an object that will inject `api` into all the functions inside\n * `allSections`, and keep the object architecture of `allSections`.\n */\n\n/** @internal */\n\nfunction injectFunctions(instanceId, api, allSections) {\n  const queryKeys = Object.keys(api.query);\n  return Object.keys(allSections).filter(sectionName => !deriveAvail[sectionName] || deriveAvail[sectionName].some(query => queryKeys.includes(query))).reduce((deriveAcc, sectionName) => {\n    const section = allSections[sectionName];\n    deriveAcc[sectionName] = Object.keys(section).reduce((sectionAcc, _methodName) => {\n      const methodName = _methodName; // Not sure what to do here, casting as any. Though the final types are good\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment,@typescript-eslint/no-unsafe-call\n\n      const method = section[methodName](instanceId, api); // idem\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment,@typescript-eslint/no-unsafe-member-access\n\n      sectionAcc[methodName] = method;\n      return sectionAcc;\n    }, {});\n    return deriveAcc;\n  }, {});\n} // FIXME The return type of this function should be {...ExactDerive, ...DeriveCustom}\n// For now we just drop the custom derive typings\n\n/** @internal */\n\n\nexport function decorateDerive(instanceId, api, custom = {}) {\n  return _objectSpread(_objectSpread({}, injectFunctions(instanceId, api, derive)), injectFunctions(instanceId, api, custom));\n}"]},"metadata":{},"sourceType":"module"}