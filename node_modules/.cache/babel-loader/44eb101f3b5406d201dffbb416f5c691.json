{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nexports.createFilter = createFilter;\nexports.createWhitelistFilter = createWhitelistFilter;\nexports.createBlacklistFilter = createBlacklistFilter;\nexports.persistFilter = persistFilter;\n\nvar _reduxPersist = require('redux-persist');\n\nvar _lodash = require('lodash.get');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _lodash3 = require('lodash.set');\n\nvar _lodash4 = _interopRequireDefault(_lodash3);\n\nvar _lodash5 = require('lodash.unset');\n\nvar _lodash6 = _interopRequireDefault(_lodash5);\n\nvar _lodash7 = require('lodash.pickby');\n\nvar _lodash8 = _interopRequireDefault(_lodash7);\n\nvar _lodash9 = require('lodash.isempty');\n\nvar _lodash10 = _interopRequireDefault(_lodash9);\n\nvar _lodash11 = require('lodash.forin');\n\nvar _lodash12 = _interopRequireDefault(_lodash11);\n\nvar _lodash13 = require('lodash.clonedeep');\n\nvar _lodash14 = _interopRequireDefault(_lodash13);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction createFilter(reducerName, inboundPaths, outboundPaths) {\n  var transformType = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'whitelist';\n  return (0, _reduxPersist.createTransform)( // inbound\n  function (inboundState, key) {\n    return inboundPaths ? persistFilter(inboundState, inboundPaths, transformType) : inboundState;\n  }, // outbound\n  function (outboundState, key) {\n    return outboundPaths ? persistFilter(outboundState, outboundPaths, transformType) : outboundState;\n  }, {\n    'whitelist': [reducerName]\n  });\n}\n\n;\n\nfunction createWhitelistFilter(reducerName, inboundPaths, outboundPaths) {\n  return createFilter(reducerName, inboundPaths, outboundPaths, 'whitelist');\n}\n\nfunction createBlacklistFilter(reducerName, inboundPaths, outboundPaths) {\n  return createFilter(reducerName, inboundPaths, outboundPaths, 'blacklist');\n}\n\nfunction filterObject(_ref, state) {\n  var path = _ref.path,\n      _ref$filterFunction = _ref.filterFunction,\n      filterFunction = _ref$filterFunction === undefined ? function () {\n    return true;\n  } : _ref$filterFunction;\n  var value = (0, _lodash2.default)(state, path, state);\n\n  if (value instanceof Array) {\n    return value.filter(filterFunction);\n  }\n\n  return (0, _lodash8.default)(value, filterFunction);\n}\n\nfunction persistFilter(state) {\n  var paths = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var transformType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'whitelist';\n  var subset = {}; // support only one key\n\n  if (typeof paths === 'string') {\n    paths = [paths];\n  }\n\n  if (transformType === 'whitelist') {\n    paths.forEach(function (path) {\n      if ((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && !(path instanceof Array)) {\n        var value = filterObject(path, state);\n\n        if (!(0, _lodash10.default)(value)) {\n          (0, _lodash4.default)(subset, path.path, value);\n        }\n      } else {\n        var _value = (0, _lodash2.default)(state, path);\n\n        if (typeof _value !== 'undefined') {\n          (0, _lodash4.default)(subset, path, _value);\n        }\n      }\n    });\n  } else if (transformType === 'blacklist') {\n    subset = (0, _lodash14.default)(state);\n    paths.forEach(function (path) {\n      if ((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && !(path instanceof Array)) {\n        var value = filterObject(path, state);\n\n        if (!(0, _lodash10.default)(value)) {\n          if (value instanceof Array) {\n            (0, _lodash4.default)(subset, path.path, (0, _lodash2.default)(subset, path.path, subset).filter(function (x) {\n              return false;\n            }));\n          } else {\n            (0, _lodash12.default)(value, function (value, key) {\n              (0, _lodash6.default)(subset, path.path + '[' + key + ']');\n            });\n          }\n        } else {\n          subset = value;\n        }\n      } else {\n        var _value2 = (0, _lodash2.default)(state, path);\n\n        if (typeof _value2 !== 'undefined') {\n          (0, _lodash6.default)(subset, path);\n        }\n      }\n    });\n  } else {\n    subset = state;\n  }\n\n  return subset;\n}\n\nexports.default = createFilter;","map":{"version":3,"sources":["/Users/lehoa/icetea/work/redkite/frontend-user/node_modules/redux-persist-transform-filter/dist/index.js"],"names":["Object","defineProperty","exports","value","_typeof","Symbol","iterator","obj","constructor","prototype","createFilter","createWhitelistFilter","createBlacklistFilter","persistFilter","_reduxPersist","require","_lodash","_lodash2","_interopRequireDefault","_lodash3","_lodash4","_lodash5","_lodash6","_lodash7","_lodash8","_lodash9","_lodash10","_lodash11","_lodash12","_lodash13","_lodash14","__esModule","default","reducerName","inboundPaths","outboundPaths","transformType","arguments","length","undefined","createTransform","inboundState","key","outboundState","filterObject","_ref","state","path","_ref$filterFunction","filterFunction","Array","filter","paths","subset","forEach","_value","x","_value2"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.createFilter = createFilter;\nexports.createWhitelistFilter = createWhitelistFilter;\nexports.createBlacklistFilter = createBlacklistFilter;\nexports.persistFilter = persistFilter;\n\nvar _reduxPersist = require('redux-persist');\n\nvar _lodash = require('lodash.get');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _lodash3 = require('lodash.set');\n\nvar _lodash4 = _interopRequireDefault(_lodash3);\n\nvar _lodash5 = require('lodash.unset');\n\nvar _lodash6 = _interopRequireDefault(_lodash5);\n\nvar _lodash7 = require('lodash.pickby');\n\nvar _lodash8 = _interopRequireDefault(_lodash7);\n\nvar _lodash9 = require('lodash.isempty');\n\nvar _lodash10 = _interopRequireDefault(_lodash9);\n\nvar _lodash11 = require('lodash.forin');\n\nvar _lodash12 = _interopRequireDefault(_lodash11);\n\nvar _lodash13 = require('lodash.clonedeep');\n\nvar _lodash14 = _interopRequireDefault(_lodash13);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createFilter(reducerName, inboundPaths, outboundPaths) {\n\tvar transformType = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'whitelist';\n\n\treturn (0, _reduxPersist.createTransform)(\n\t// inbound\n\tfunction (inboundState, key) {\n\t\treturn inboundPaths ? persistFilter(inboundState, inboundPaths, transformType) : inboundState;\n\t},\n\n\t// outbound\n\tfunction (outboundState, key) {\n\t\treturn outboundPaths ? persistFilter(outboundState, outboundPaths, transformType) : outboundState;\n\t}, { 'whitelist': [reducerName] });\n};\n\nfunction createWhitelistFilter(reducerName, inboundPaths, outboundPaths) {\n\treturn createFilter(reducerName, inboundPaths, outboundPaths, 'whitelist');\n}\n\nfunction createBlacklistFilter(reducerName, inboundPaths, outboundPaths) {\n\treturn createFilter(reducerName, inboundPaths, outboundPaths, 'blacklist');\n}\n\nfunction filterObject(_ref, state) {\n\tvar path = _ref.path,\n\t    _ref$filterFunction = _ref.filterFunction,\n\t    filterFunction = _ref$filterFunction === undefined ? function () {\n\t\treturn true;\n\t} : _ref$filterFunction;\n\n\tvar value = (0, _lodash2.default)(state, path, state);\n\n\tif (value instanceof Array) {\n\t\treturn value.filter(filterFunction);\n\t}\n\n\treturn (0, _lodash8.default)(value, filterFunction);\n}\n\nfunction persistFilter(state) {\n\tvar paths = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\tvar transformType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'whitelist';\n\n\tvar subset = {};\n\n\t// support only one key\n\tif (typeof paths === 'string') {\n\t\tpaths = [paths];\n\t}\n\n\tif (transformType === 'whitelist') {\n\t\tpaths.forEach(function (path) {\n\t\t\tif ((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && !(path instanceof Array)) {\n\t\t\t\tvar value = filterObject(path, state);\n\n\t\t\t\tif (!(0, _lodash10.default)(value)) {\n\t\t\t\t\t(0, _lodash4.default)(subset, path.path, value);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar _value = (0, _lodash2.default)(state, path);\n\n\t\t\t\tif (typeof _value !== 'undefined') {\n\t\t\t\t\t(0, _lodash4.default)(subset, path, _value);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t} else if (transformType === 'blacklist') {\n\t\tsubset = (0, _lodash14.default)(state);\n\t\tpaths.forEach(function (path) {\n\t\t\tif ((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && !(path instanceof Array)) {\n\t\t\t\tvar value = filterObject(path, state);\n\n\t\t\t\tif (!(0, _lodash10.default)(value)) {\n\t\t\t\t\tif (value instanceof Array) {\n\t\t\t\t\t\t(0, _lodash4.default)(subset, path.path, (0, _lodash2.default)(subset, path.path, subset).filter(function (x) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t(0, _lodash12.default)(value, function (value, key) {\n\t\t\t\t\t\t\t(0, _lodash6.default)(subset, path.path + '[' + key + ']');\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsubset = value;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar _value2 = (0, _lodash2.default)(state, path);\n\n\t\t\t\tif (typeof _value2 !== 'undefined') {\n\t\t\t\t\t(0, _lodash6.default)(subset, path);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsubset = state;\n\t}\n\n\treturn subset;\n}\n\nexports.default = createFilter;\n"]},"metadata":{},"sourceType":"script"}